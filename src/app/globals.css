@import './cards.css';
@import './content.css';

@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    /* Apple Design System Colors */
    --background-rgb: 255 255 255; /* apple-white */
    --foreground-rgb: 29 29 31;    /* apple-black */

    --apple-gray-dark-rgb: 51 51 53;
    --apple-gray-medium-rgb: 136 136 136;
    --apple-gray-light-rgb: 245 245 247;
    --apple-gray-ultralight-rgb: 250 250 250;
    --apple-blue-link-rgb: 0 122 255;
    --apple-blue-hover-rgb: 0 86 179;

    /* Mapping to existing theme variables (primarily for shadcn/ui components if used) */
    /* Forcing light theme for now, dark mode variables can be adjusted later if needed */
    --background: var(--background-rgb); /* Direct use of RGB for background */
    --foreground: var(--foreground-rgb); /* Direct use of RGB for foreground */

    --card: var(--background-rgb);
    --card-foreground: var(--foreground-rgb);

    --popover: var(--background-rgb);
    --popover-foreground: var(--foreground-rgb);

    --primary: var(--foreground-rgb); /* Primary can be text color */
    --primary-foreground: var(--background-rgb); /* Text on primary elements */

    --secondary: var(--apple-gray-light-rgb); /* Secondary background */
    --secondary-foreground: var(--foreground-rgb); /* Text on secondary elements */

    --muted: var(--apple-gray-medium-rgb); /* Muted text or elements */
    --muted-foreground: var(--apple-gray-dark-rgb); /* Text on muted elements */

    --accent: var(--apple-blue-link-rgb); /* Accent color */
    --accent-foreground: var(--background-rgb); /* Text on accent elements */

    --destructive: 220 38 38; /* Example destructive color, can be refined */
    --destructive-foreground: 255 255 255;

    --border: var(--apple-gray-light-rgb); /* Borders */
    --input: var(--apple-gray-light-rgb); /* Input backgrounds */
    --ring: var(--apple-blue-link-rgb);   /* Focus rings */

    --radius: 0.5rem;
  }

  .dark {
    /* Dark mode variables will need to be defined based on Apple's dark mode guidelines */
    /* For now, keeping them as placeholders or inverting light theme */
    --background-rgb: 29 29 31;    /* apple-black for dark background */
    --foreground-rgb: 245 245 247; /* apple-gray-light for dark text */

    --apple-gray-dark-rgb: 136 136 136;
    --apple-gray-medium-rgb: 88 88 88;
    --apple-gray-light-rgb: 51 51 53;
    --apple-gray-ultralight-rgb: 40 40 40;
    --apple-blue-link-rgb: 0 122 255; /* Blue might stay the same or get lighter */
    --apple-blue-hover-rgb: 0 86 179;


    --background: var(--background-rgb);
    --foreground: var(--foreground-rgb);

    --card: var(--background-rgb);
    --card-foreground: var(--foreground-rgb);

    --popover: var(--background-rgb);
    --popover-foreground: var(--foreground-rgb);

    --primary: var(--foreground-rgb);
    --primary-foreground: var(--background-rgb);

    --secondary: var(--apple-gray-light-rgb);
    --secondary-foreground: var(--foreground-rgb);

    --muted: var(--apple-gray-medium-rgb);
    --muted-foreground: var(--apple-gray-dark-rgb);

    --accent: var(--apple-blue-link-rgb);
    --accent-foreground: var(--background-rgb);

    --destructive: 200 30 30;
    --destructive-foreground: 255 255 255;

    --border: var(--apple-gray-light-rgb);
    --input: var(--apple-gray-light-rgb);
    --ring: var(--apple-blue-link-rgb);
  }
}

@layer base {
  * {
    @apply border-border; /* Uses CSS var --border which is now apple-gray-light */
  }
  body {
    @apply bg-background text-foreground font-sans; /* Uses CSS vars --background, --foreground and font-sans from tailwind.config */
  }
  a {
    @apply text-apple-blue-link hover:text-apple-blue-hover;
  }
}

.post-body p {
  @apply my-5;
}

.post-body figcaption {
  @apply text-sm text-center my-4 italic opacity-50;
}

.post-body h2 {
  @apply text-2xl font-bold my-8 max-w-[720px] mx-auto;
}

.post-body h3 {
  @apply text-xl font-bold my-8;
}

menu,
ol,
ul {
  @apply my-5;
  list-style: none;
}

.post-body ol,
.post-body ul {
  counter-reset: a;
}

.post-body ul > li:before {
  content: 'â€¢';
  opacity: 0.9;
  transform: scale(1.5);
}

.post-body ol > li:before {
  content: counter(a) '.';
  counter-increment: a;
  padding-right: 12px;
}

.post-body ol li:before,
.post-body ul li:before {
  box-sizing: border-box;
  display: inline-block;
  margin-left: -22px;
  position: absolute;
  text-align: right;
}

.post-body li {
  --tw-space-y-reverse: 0;
  margin-bottom: 0;
  margin-bottom: calc(1.25rem * var(--tw-space-y-reverse));
  margin-top: 1.25rem;
  margin-top: calc(1.25rem * (1 - var(--tw-space-y-reverse)));
  padding-left: 1.625rem;
}

.post-body blockquote {
  @apply border-l-4 border-apple-gray-medium pl-4 italic my-6 text-apple-gray-dark;
}

.post-body blockquote p {
  @apply my-0; /* Reset paragraph margin inside blockquote if needed */
}
